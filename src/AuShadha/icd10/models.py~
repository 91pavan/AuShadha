###########################################################################################
# PROJECT: AuShadha ICD10 Models 
# Author : Dr. Easwar T R
# Date   : 28-08-2012
# Licence: GNU GPL V3. Please see AuShadha/LICENSE.txt
###########################################################################################

from django.db	    				   import models
from django.forms	      			 import ModelForm
from django.core.exceptions   import ValidationError
from django 		      				 import forms

from django.contrib.auth.models  import User
from aushadha_base_models.models import AuShadhaBaseModel


from clinic.models import Clinic


class Chapter(models.Model):

	'''
	The ICD 10 Chapters and the sub-fields. 
	Most fields are incorporated. 
	Some fields may have been ignored. 
	This is as good as the parser that was built to get the data out.
	
	'''
	
	__model_label__ = "icd10_chapter"

	chapter_name    = models.CharField('Chapter Name', max_length =100,  null = True,  blank = True, unique = True)
	chapter_desc    = models.CharField('Chapter Description', max_length =100,  null = True,  blank = True, unique = True)
	includes        = models.CharField('Includes', max_length =100,  null = True,  blank = True, unique = True)
	useAdditionalCodes    = models.CharField('Use Additional Codes', max_length =100,  null = True,  blank = True, unique = True)
	excludes1    = models.CharField('Excludes 1', max_length =100,  null = True,  blank = True, unique = True)
	excludes2    = models.CharField('Excludes 2', max_length =100,  null = True,  blank = True, unique = True)
	sectionIndex    = models.CharField('Section Index', max_length =100,  null = True,  blank = True, unique = True)

## Define the Unicode method ::
	def __unicode__(self):
		return "%s: %s" %(self.chapter_name, self.chapter_desc)


class Section(models.Model):

	'''
	The ICD 10 Section and the sub-fields. 
	Most fields are incorporated. 
	Some fields may have been ignored. 
	This is as good as the parser that was built to get the data out.
	
	'''
	
	__model_label__ = "icd10_section"

	sec_id        = models.CharField('Section ID', max_length =100,  null = True,  blank = True, unique = True)
	diag_id       = models.TextField('Diagnosis ID', max_length =200,  null = True,  blank = True, unique = True)
	desc          = models.TextField('Description', max_length =200,  null = True,  blank = True, unique = True)
	chapter_fk    = models.ForeignKey('Chapter')

## Define the Unicode method ::
	def __unicode__(self):
		return "%s: %s" %(self.sec_id, self.diag_id)

class Diagnosis(models.Model):

	'''
	The ICD 10 Diagnosis and the sub-fields. 
	Most fields are incorporated. 
	Some fields may have been ignored. 
	This is as good as the parser that was built to get the data out.
	
	'''
	
	__model_label__ = "icd10_diagnosis"

	diag_name       = models.CharField('Diagnosis Name', max_length =100,  null = True,  blank = True, unique = True)
	diag_code       = models.TextField('Diagnosis Code', max_length =200,  null = True,  blank = True, unique = True)
	section_fk      = models.ForeignKey('Section')

## Define the Unicode method ::
	def __unicode__(self):
		return "%s: %s" %(self.sec_id, self.diag_id)